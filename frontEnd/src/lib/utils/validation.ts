// 비밀번호 규칙 검사 (영문 + 숫자 + 특수문자)
/**
 * 입력된 비밀번호가 강력한 규칙(Strong Password)을 따르는지 검사합니다.
 * 규칙: 최소 8자 이상이며, 영문(대소문자), 숫자, 특정 특수문자(@$!%*?&)를 각각 1개 이상 포함해야 합니다.
 *
 * @param value 검사할 비밀번호 문자열
 * @returns 규칙을 만족하면 true, 아니면 false
 */
export const isStrongPassword = (value: string): boolean => {
  // 정규 표현식 설명:
  // ^(?=.*[A-Za-z]): 최소 1개의 영문(대소문자) 포함
  // (?=.*\d): 최소 1개의 숫자 포함
  // (?=.*[@$!%*?&]): 최소 1개의 지정된 특수문자 포함
  // [A-Za-z\d@$!%*?&]{8,}$/: 허용된 문자(영문, 숫자, 특수문자)로만 구성되며, 총 길이가 8자 이상
  const regex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
  return regex.test(value);
};

// 이메일 형식 검사
/**
 * 입력된 문자열이 기본적인 이메일 형식(예: user@domain.com)을 따르는지 검사합니다.
 *
 * @param email 검사할 이메일 문자열
 * @returns 이메일 형식에 맞으면 true, 아니면 false
 */
export const isEmail = (email: string): boolean => {
  // 정규 표현식 설명:
  // ^[^\s@]+: @ 앞에 공백이 아닌 문자가 1개 이상
  // @: @ 기호
  // [^\s@]+\.: @ 뒤에 공백이 아닌 문자가 1개 이상, 그 뒤에 점(.)
  // [^\s@]+$: 점(.) 뒤에 공백이 아닌 문자가 1개 이상으로 끝남
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return regex.test(email);
};

// 한국 휴대전화 번호 검사
/**
 * 입력된 문자열이 대한민국 휴대전화 번호 형식(010, 011 등)에 맞는지 검사합니다.
 * 하이픈(-) 등의 숫자가 아닌 문자는 제거하고 숫자만으로 검사합니다.
 *
 * @param phone 검사할 전화번호 문자열 (하이픈 포함 가능)
 * @returns 한국 휴대전화 번호 형식에 맞으면 true, 아니면 false
 */
export const isPhone = (phone: string): boolean => {
  // 1. 전화번호에서 숫자가 아닌 모든 문자(\D)를 제거하여 순수 숫자만 남깁니다.
  const cleaned = phone.replace(/\D/g, '');

  // 2. 정규 표현식 검사:
  // ^01[016789]: 01로 시작하며, 뒤에 0, 1, 6, 7, 8, 9 중 하나가 옴 (ex: 010, 011, 016 등)
  // \d{7,8}$: 뒤에 7자리 또는 8자리의 숫자가 오고 문자열이 끝남 (총 길이 10~11자리)
  return /^01[016789]\d{7,8}$/.test(cleaned);
};
